# Task_2: Тестирование API

## **Структура проекта**

Проект состоит из следующих файлов:

1. **`test_get_item_by_id.py`**:
   - Тесты для метода `GET /api/1/item/:id`.
   - Проверяет успешное получение данных объявления, а также обработку ошибок (404, 500).

2. **`test_create_item.py`**:
   - Тесты для метода `POST /api/1/item`.
   - Проверяет успешное создание объявления, а также обработку некорректных данных (отрицательная цена, пустое имя).

3. **`test_get_statistic_by_id.py`**:
   - Тесты для метода `GET /api/1/statistic/:id`.
   - Проверяет успешное получение статистики по объявлению, а также обработку ошибок (404).

4. **`test_get_items_by_seller_id.py`**:
   - Тесты для метода `GET /api/1/:sellerID/item`.
   - Проверяет успешное получение списка объявлений продавца, а также обработку ошибок (400).

---

## **Как запустить тесты**

### **Предварительные требования**
1. Установите Python 3.7 или выше.
2. Установите необходимые зависимости:
   ```bash
   pip install pytest requests
   ```
   ИЛИ
   ```bash
   pip insall reqs.txt
   ```
### **Запуск тестов**
Чтобы запустить все тесты, выполните следующую команду в корневой директории проекта:
```bash
pytest
```

Если вы хотите запустить тесты для конкретного файла, то например выполните команду:
```bash
pytest test_get_item_by_id.py
```

---

## **Примечания**

### **Тест `test_get_item_by_id_server_error`**
Тест `test_get_item_by_id_server_error` (метод `GET "https://qa-internship.avito.com/api/1/item"`) написан, но закомментирован в файле `test_get_item_by_id.py`. Это связано с тем, что:
- Сервер в рабочем состоянии всегда возвращает `200 OK` для корректных запросов.
- Для тестирования ошибки `500 Internal Server Error` требуется либо сломать сервер, либо использовать моки.

---

## **Найденные баги**
В процессе тестирования были обнаружены следующие баги:
1. **Некорректная обработка отрицательной цены товара**:
   - Сервер возвращает `200 OK` при создании товара с отрицательной ценой, хотя должен возвращать `400 Bad Request`.

2. **Некорректная обработка пустого имени товара**:
   - Сервер возвращает `200 OK` при создании товара с пустым именем, хотя должен возвращать `400 Bad Request`.

Подробные баг-репорты можно найти в файле `BUGS.md`.